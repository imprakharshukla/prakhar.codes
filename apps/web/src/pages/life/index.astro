---
import BaseHead from "../../components/BaseHead.astro";
import Layout from "../../layouts/layout.astro";
import { ArtGallery } from "../../components/ArtGallery";
import { MovieScroller } from "../../components/MovieScroller";
import { HomeLabAccordion } from "../../components/HomeLab";
import { WorkoutHeatmap } from "../../components/WorkoutHeatmap";
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead
      title="Life - Prakhar Shukla"
      description="Beyond code - art, music, home lab, and movie recommendations."
    />
  </head>
  <Layout>
    <div class="overflow-x-hidden">
    <!-- Header -->
    <div class="grid gap-1 md:max-w-2xl mt-6">
      <h1 class="h2-heading">Beyond Code</h1>
      <div class="grid gap-3">
        <p class="description">
          The things I do when I'm not staring at a terminal.
        </p>
      </div>
    </div>

    <hr class="dark:border-border/50 border-border my-8" />

    <!-- Workout Activity -->
    <div class="grid gap-1">
      <div class="flex items-center gap-2">
        <h2 class="h3-heading">Workout Activity</h2>
        <div class="relative group">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 256 256" fill="currentColor" class="text-muted-foreground cursor-help"><path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M144,176a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176Zm88-48A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128ZM124,96a12,12,0,1,0-12-12A12,12,0,0,0,124,96Z"/></svg>
          <div class="absolute bottom-full left-0 mb-2 px-3 py-2 rounded-md border border-border bg-popover text-popover-foreground shadow-md text-xs leading-relaxed w-64 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-[9999] pointer-events-none">
            Apple Health → iOS Shortcut (daily automation) → POST /api/workouts → Upstash Redis → React heatmap on page load.
          </div>
        </div>
      </div>
      <p class="s-description max-w-lg mb-4">
        Last 7 days of workouts, synced from Apple Health.
      </p>
      <WorkoutHeatmap client:load />
    </div>

    <hr class="dark:border-border/50 border-border my-8" />

    <!-- Art & Clay -->
    <div class="grid gap-1">
      <h2 class="h3-heading">Art & Clay</h2>
      <p class="s-description max-w-lg mb-4">
        Paintings, sketches and pottery -a meditative counterbalance to screens.
      </p>
      <ArtGallery client:only="react" />
    </div>

    <hr class="dark:border-border/50 border-border my-8" />

    <!-- Guitar -->
    <div class="grid gap-1">
      <h2 class="h3-heading">Strings & Distortion</h2>
      <p class="s-description max-w-lg mb-4">
        Mostly noodling with some pop and overdrive, occasionally something that sounds intentional.
      </p>
      <div class="flex gap-4 overflow-x-auto snap-x snap-mandatory scroll-smooth py-2 px-1" style="scrollbar-width: none; -ms-overflow-style: none;">
        <video class="aspect-video rounded-sm object-cover snap-start shrink-0 w-[300px] md:w-[400px]" controls preload="metadata" playsinline>
          <source src="https://resume-cdn.prakhar.codes/life/c7dc1cbd-6c7a-4fa3-8aee-c16144401fc9%202.MP4?v=2" type="video/mp4" />
        </video>
        <video class="aspect-video rounded-sm object-cover snap-start shrink-0 w-[300px] md:w-[400px]" controls preload="metadata" playsinline>
          <source src="https://resume-cdn.prakhar.codes/life/fca2fbd8-d558-4a0f-98e1-aae5be1.MP4" type="video/mp4" />
        </video>
      </div>
    </div>

    <hr class="dark:border-border/50 border-border my-8" />

    <!-- Home Lab -->
    <div class="grid gap-1">
      <div class="flex items-center gap-2">
        <h2 class="h3-heading">Home Lab</h2>
        <div class="relative group">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 256 256" fill="currentColor" class="text-muted-foreground cursor-help"><path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M144,176a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176Zm88-48A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128ZM124,96a12,12,0,1,0-12-12A12,12,0,0,0,124,96Z"/></svg>
          <div class="absolute bottom-full left-0 mb-2 px-3 py-2 rounded-md border border-border bg-popover text-popover-foreground shadow-md text-xs leading-relaxed w-64 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-[9999] pointer-events-none">
            All services run as Docker containers on a home server, managed with Coolify and auto-updated via Watchtower.
          </div>
        </div>
      </div>
      <p class="s-description max-w-lg mb-4">
        Self-hosted services running on my home server.
      </p>
      <HomeLabAccordion client:load />
      <div class="flex gap-2 overflow-x-auto relative z-[100] mt-3 py-2 px-1" style="scrollbar-width: none; -ms-overflow-style: none;">
        {[
          { name: "Plex", desc: "Media server for movies & TV", icon: "/images/homelab/plex.svg" },
          { name: "Jellyfin", desc: "Open-source media streaming", icon: "/images/homelab/jellyfin.svg" },
          { name: "Radarr", desc: "Movie library management", icon: "/images/homelab/radarr.svg" },
          { name: "Sonarr", desc: "TV show library management", icon: "/images/homelab/sonarr.svg" },
          { name: "Bazarr", desc: "Subtitle management", icon: "/images/homelab/bazarr.svg" },
          { name: "Prowlarr", desc: "Indexer manager", icon: "/images/homelab/prowlarr.svg" },
          { name: "Overseerr", desc: "Media request & discovery", icon: "/images/homelab/overseerr.svg" },
          { name: "Tautulli", desc: "Plex monitoring & analytics", icon: "/images/homelab/tautulli.svg" },
          { name: "Coolify", desc: "Self-hosted PaaS for app deployment", icon: "/images/homelab/coolify.svg" },
          { name: "Homepage", desc: "Application dashboard", icon: "/images/homelab/homarr.svg" },
          { name: "Homarr", desc: "Customisable server dashboard", icon: "/images/homelab/homarr.svg" },
          { name: "Watchtower", desc: "Auto-update Docker containers", icon: "/images/homelab/watchtower.svg" },
        ].map((svc) => (
          <div class="relative group shrink-0">
            <div class="inline-flex items-center justify-center rounded-md p-2.5 bg-card text-foreground border border-border cursor-default hover:border-primary transition-all duration-300 ease-in-out">
              <img src={svc.icon} alt={svc.name} class="h-5 w-5" />
            </div>
            <div class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 rounded-md border border-border bg-popover text-popover-foreground shadow-md text-sm whitespace-nowrap opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-[9999] pointer-events-none">
              <span class="font-medium">{svc.name}</span>
              {" -"}
              <span class="text-muted-foreground">{svc.desc}</span>
            </div>
          </div>
        ))}
      </div>
    </div>

    <hr class="dark:border-border/50 border-border my-8" />

    <!-- Movies I Recommend -->
    <div class="grid gap-1 min-w-0">
      <div class="flex items-center gap-2">
        <h2 class="h3-heading">Movies I Recommend</h2>
        <div class="relative group">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 256 256" fill="currentColor" class="text-muted-foreground cursor-help"><path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M144,176a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176Zm88-48A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128ZM124,96a12,12,0,1,0-12-12A12,12,0,0,0,124,96Z"/></svg>
          <div class="absolute bottom-full left-0 mb-2 px-3 py-2 rounded-md border border-border bg-popover text-popover-foreground shadow-md text-xs leading-relaxed w-64 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-[9999] pointer-events-none">
            IMDb IDs → OMDB API fetch → Upstash Redis cache → served via /api/movies. Cache auto-invalidates when the ID list changes.
          </div>
        </div>
      </div>
      <p class="s-description max-w-lg mb-4">
        A curated list of films I keep coming back to.
      </p>
      <MovieScroller client:only="react" />
    </div>

    <hr class="dark:border-border/50 border-border my-8" />

    <!-- TV Shows I Recommend -->
    <div class="grid gap-1 min-w-0">
      <div class="flex items-center gap-2">
        <h2 class="h3-heading">TV Shows I Recommend</h2>
        <div class="relative group">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 256 256" fill="currentColor" class="text-muted-foreground cursor-help"><path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M144,176a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176Zm88-48A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128ZM124,96a12,12,0,1,0-12-12A12,12,0,0,0,124,96Z"/></svg>
          <div class="absolute bottom-full left-0 mb-2 px-3 py-2 rounded-md border border-border bg-popover text-popover-foreground shadow-md text-xs leading-relaxed w-64 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-[9999] pointer-events-none">
            Same pipeline as movies - IMDb IDs → OMDB API → Redis cache via /api/shows.
          </div>
        </div>
      </div>
      <p class="s-description max-w-lg mb-4">
        Series worth bingeing.
      </p>
      <MovieScroller endpoint="/api/shows" client:only="react" />
    </div>
    </div>
  </Layout>
</html>
